jQuery(function(a){function e(){a(document).trigger("ywpo_init_datetimepickers"),a("#preorder_product_data :input, .show_if_variation_pre_order :input").trigger("change"),a("fieldset.ywpo_availability_date_mode input").trigger("change")}a(document).on("change","#preorder_product_data :input, .show_if_variation_pre_order :input",function(){var i=a(this),e=i.attr("name"),e=i.closest(".ywpo_options_group").find('.form-field[data-deps-on="'+e+'"]');(i.is(":checked")||i.is("select")||i.is(":checkbox"))&&e.each(function(e,t){i.val()===a(t).data("deps-val")?a(t).slideDown("slow"):a(t).slideUp("slow")})}),a(document).on("change","fieldset.ywpo_availability_date_mode input",function(){var e=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_override_labels input"),t=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_preorder_availability_date_label, p._ywpo_preorder_availability_date_label-description"),i=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_preorder_no_date_label, p._ywpo_preorder_no_date_label-description");a(this).is(":checked")&&e.is(":checked")&&("date"===a(this).val()||"dynamic"===a(this).val()?(t.show(),i.hide()):"no_date"===a(this).val()&&(t.hide(),i.show()))}),a(document).on("change","fieldset._ywpo_override_labels input",function(){a(this).is(":checked")&&a(this).closest(".ywpo_options_group").find(".ywpo_availability_date_mode input").trigger("change")}),a(document).on("ywpo_init_datetimepickers",function(){var e=new Date;a(".ywpo_datetimepicker").datetimepicker({defaultDate:"",controlType:"select",dateFormat:"yy-mm-dd",timeFormat:"HH:mm",showSecond:!1,pickerTimeFormat:"HH:mm",secondMax:0,minDate:e,beforeShow:function(e,t){t.dpDiv.addClass("yith-plugin-fw-datepicker-div yith-ywpo-date-time-picker-div")},onClose:function(e,t){t.dpDiv.removeClass("yith-plugin-fw-datepicker-div yith-ywpo-date-time-picker-div")}})}),a(this).on("woocommerce_variations_loaded",function(){a(".woocommerce_variable_attributes .show_if_variation_pre_order textarea.wp-editor-area").each(function(e,o){{o=a(o).attr("id");let e="_ywpo_preorder_availability_date_label",t=tinyMCEPreInit.mceInit[e],i=tinyMCEPreInit.qtInit[e];return t.selector=o,t.body_class=t.body_class.replace(e,o),i.id=o,tinyMCEPreInit.mceInit[o]=t,tinyMCEPreInit.qtInit[o]=i,tinyMCE.init(tinyMCEPreInit.mceInit[o]),tinyMCE.execCommand("mceRemoveEditor",!0,o),tinyMCE.execCommand("mceAddEditor",!0,o),quicktags(i),void QTags._buttonsInit()}}),e(),a("#variable_product_options").find(".woocommerce_variations .variation-needs-update").removeClass("variation-needs-update")}),a("#variable_product_options").on("woocommerce_variations_save_variations_button",function(){var e=Object.keys(tinyMCEPreInit.mceInit);a.each(e,function(e,t){(t.startsWith("_ywpo_start_date_label")||t.startsWith("_ywpo_preorder_availability_date_label")||t.startsWith("_ywpo_preorder_no_date_label"))&&(tinyMCE.execCommand("mceRemoveEditor",!0,t),tinyMCE.execCommand("mceAddEditor",!0,t))})}),e()});